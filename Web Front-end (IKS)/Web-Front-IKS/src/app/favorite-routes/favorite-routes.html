<div class="page">
  <div class="card">
    <h2 class="title">Favorite Routes</h2>

    <div *ngIf="loading">Loading...</div>

    <table mat-table [dataSource]="favoriteRoutes" class="routes-table" *ngIf="!loading">

      <ng-container matColumnDef="route">
        <th mat-header-cell *matHeaderCellDef>Route</th>
        <td mat-cell *matCellDef="let route">
          <div class="route">
            <span *ngFor="let segment of formatRoute(route); let last = last">
              {{ segment }}
              <mat-icon *ngIf="!last" class="arrow">arrow_forward</mat-icon>
            </span>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let route">
          <button mat-raised-button color="primary" (click)="useRoute(route)">
            Use route
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>

    <div *ngIf="!loading && favoriteRoutes.length === 0">
      No favorite routes yet.
    </div>
  </div>
</div>
